# -*- coding: utf8 -*-
flagpairs = [("🇦🇨", "Ascension Island"), ("🇦🇩", "Andorra"), ("🇦🇪", "United Arab Emirates"), ("🇦🇫", "Afghanistan"), ("🇦🇬", "Antigua & Barbuda"), ("🇦🇮", "Anguilla"), ("🇦🇱", "Albania"), ("🇦🇲", "Armenia"), ("🇦🇴", "Angola"), ("🇦🇶", "Antarctica"), ("🇦🇷", "Argentina"), ("🇦🇸", "American Samoa"), ("🇦🇹", "Austria"), ("🇦🇺", "Australia"), ("🇦🇼", "Aruba"), ("🇦🇽", "Åland Islands"), ("🇦🇿", "Azerbaijan"), ("🇧🇦", "Bosnia & Herzegovina"), ("🇧🇧", "Barbados"), ("🇧🇩", "Bangladesh"), ("🇧🇪", "Belgium"), ("🇧🇫", "Burkina Faso"), ("🇧🇬", "Bulgaria"), ("🇧🇭", "Bahrain"), ("🇧🇮", "Burundi"), ("🇧🇯", "Benin"), ("🇧🇱", "St. Barthélemy"), ("🇧🇲", "Bermuda"), ("🇧🇳", "Brunei"), ("🇧🇴", "Bolivia"), ("🇧🇶", "Caribbean Netherlands"), ("🇧🇷", "Brazil"), ("🇧🇸", "Bahamas"), ("🇧🇹", "Bhutan"), ("🇧🇻", "Bouvet Island"), ("🇧🇼", "Botswana"), ("🇧🇾", "Belarus"), ("🇧🇿", "Belize"), ("🇨🇦", "Canada"), ("🇨🇨", "Cocos (Keeling) Islands"), ("🇨🇩", "Congo - Kinshasa"), ("🇨🇫", "Central African Republic"), ("🇨🇬", "Congo - Brazzaville"), ("🇨🇭", "Switzerland"), ("🇨🇮", "Côte D\’Ivoire"), ("🇨🇰", "Cook Islands"), ("🇨🇱", "Chile"), ("🇨🇲", "Cameroon"), ("🇨🇳", "China"), ("🇨🇴", "Colombia"), ("🇨🇵", "Clipperton Island"), ("🇨🇷", "Costa Rica"), ("🇨🇺", "Cuba"), ("🇨🇻", "Cape Verde"), ("🇨🇼", "Curaçao"), ("🇨🇽", "Christmas Island"), ("🇨🇾", "Cyprus"), ("🇨🇿", "Czechia"), ("🇩🇪", "Germany"), ("🇩🇬", "Diego Garcia"), ("🇩🇯", "Djibouti"), ("🇩🇰", "Denmark"), ("🇩🇲", "Dominica"), ("🇩🇴", "Dominican Republic"), ("🇩🇿", "Algeria"), ("🇪🇦", "Ceuta & Melilla"), ("🇪🇨", "Ecuador"), ("🇪🇪", "Estonia"), ("🇪🇬", "Egypt"), ("🇪🇭", "Western Sahara"), ("🇪🇷", "Eritrea"), ("🇪🇸", "Spain"), ("🇪🇹", "Ethiopia"), ("🇪🇺", "European Union"), ("🇫🇮", "Finland"), ("🇫🇯", "Fiji"), ("🇫🇰", "Falkland Islands"), ("🇫🇲", "Micronesia"), ("🇫🇴", "Faroe Islands"), ("🇫🇷", "France"), ("🇬🇦", "Gabon"), ("🇬🇧", "United Kingdom"), ("🇬🇩", "Grenada"), ("🇬🇪", "Georgia"), ("🇬🇫", "French Guiana"), ("🇬🇬", "Guernsey"), ("🇬🇭", "Ghana"), ("🇬🇮", "Gibraltar"), ("🇬🇱", "Greenland"), ("🇬🇲", "Gambia"), ("🇬🇳", "Guinea"), ("🇬🇵", "Guadeloupe"), ("🇬🇶", "Equatorial Guinea"), ("🇬🇷", "Greece"), ("🇬🇸", "South Georgia & South Sandwich Islands"), ("🇬🇹", "Guatemala"), ("🇬🇺", "Guam"), ("🇬🇼", "Guinea-Bissau"), ("🇬🇾", "Guyana"), ("🇭🇰", "Hong Kong SAR China"), ("🇭🇲", "Heard & McDonald Islands"), ("🇭🇳", "Honduras"), ("🇭🇷", "Croatia"), ("🇭🇹", "Haiti"), ("🇭🇺", "Hungary"), ("🇮🇨", "Canary Islands"), ("🇮🇩", "Indonesia"), ("🇮🇪", "Ireland"), ("🇮🇱", "Israel"), ("🇮🇲", "Isle of Man"), ("🇮🇳", "India"), ("🇮🇴", "British Indian Ocean Territory"), ("🇮🇶", "Iraq"), ("🇮🇷", "Iran"), ("🇮🇸", "Iceland"), ("🇮🇹", "Italy"), ("🇯🇪", "Jersey"), ("🇯🇲", "Jamaica"), ("🇯🇴", "Jordan"), ("🇯🇵", "Japan"), ("🇰🇪", "Kenya"), ("🇰🇬", "Kyrgyzstan"), ("🇰🇭", "Cambodia"), ("🇰🇮", "Kiribati"), ("🇰🇲", "Comoros"), ("🇰🇳", "St. Kitts & Nevis"), ("🇰🇵", "North Korea"), ("🇰🇷", "South Korea"), ("🇰🇼", "Kuwait"), ("🇰🇾", "Cayman Islands"), ("🇰🇿", "Kazakhstan"), ("🇱🇦", "Laos"), ("🇱🇧", "Lebanon"), ("🇱🇨", "St. Lucia"), ("🇱🇮", "Liechtenstein"), ("🇱🇰", "Sri Lanka"), ("🇱🇷", "Liberia"), ("🇱🇸", "Lesotho"), ("🇱🇹", "Lithuania"), ("🇱🇺", "Luxembourg"), ("🇱🇻", "Latvia"), ("🇱🇾", "Libya"), ("🇲🇦", "Morocco"), ("🇲🇨", "Monaco"), ("🇲🇩", "Moldova"), ("🇲🇪", "Montenegro"), ("🇲🇫", "St. Martin"), ("🇲🇬", "Madagascar"), ("🇲🇭", "Marshall Islands"), ("🇲🇰", "Macedonia"), ("🇲🇱", "Mali"), ("🇲🇲", "Myanmar (Burma)"), ("🇲🇳", "Mongolia"), ("🇲🇴", "Macau SAR China"), ("🇲🇵", "Northern Mariana Islands"), ("🇲🇶", "Martinique"), ("🇲🇷", "Mauritania"), ("🇲🇸", "Montserrat"), ("🇲🇹", "Malta"), ("🇲🇺", "Mauritius"), ("🇲🇻", "Maldives"), ("🇲🇼", "Malawi"), ("🇲🇽", "Mexico"), ("🇲🇾", "Malaysia"), ("🇲🇿", "Mozambique"), ("🇳🇦", "Namibia"), ("🇳🇨", "New Caledonia"), ("🇳🇪", "Niger"), ("🇳🇫", "Norfolk Island"), ("🇳🇬", "Nigeria"), ("🇳🇮", "Nicaragua"), ("🇳🇱", "Netherlands"), ("🇳🇴", "Norway"), ("🇳🇵", "Nepal"), ("🇳🇷", "Nauru"), ("🇳🇺", "Niue"), ("🇳🇿", "New Zealand"), ("🇴🇲", "Oman"), ("🇵🇦", "Panama"), ("🇵🇪", "Peru"), ("🇵🇫", "French Polynesia"), ("🇵🇬", "Papua New Guinea"), ("🇵🇭", "Philippines"), ("🇵🇰", "Pakistan"), ("🇵🇱", "Poland"), ("🇵🇲", "St. Pierre & Miquelon"), ("🇵🇳", "Pitcairn Islands"), ("🇵🇷", "Puerto Rico"), ("🇵🇸", "Palestinian Territories"), ("🇵🇹", "Portugal"), ("🇵🇼", "Palau"), ("🇵🇾", "Paraguay"), ("🇶🇦", "Qatar"), ("🇷🇪", "Réunion"), ("🇷🇴", "Romania"), ("🇷🇸", "Serbia"), ("🇷🇺", "Russia"), ("🇷🇼", "Rwanda"), ("🇸🇦", "Saudi Arabia"), ("🇸🇧", "Solomon Islands"), ("🇸🇨", "Seychelles"), ("🇸🇩", "Sudan"), ("🇸🇪", "Sweden"), ("🇸🇬", "Singapore"), ("🇸🇭", "St. Helena"), ("🇸🇮", "Slovenia"), ("🇸🇯", "Svalbard & Jan Mayen"), ("🇸🇰", "Slovakia"), ("🇸🇱", "Sierra Leone"), ("🇸🇲", "San Marino"), ("🇸🇳", "Senegal"), ("🇸🇴", "Somalia"), ("🇸🇷", "Suriname"), ("🇸🇸", "South Sudan"), ("🇸🇹", "São Tomé & Príncipe"), ("🇸🇻", "El Salvador"), ("🇸🇽", "Sint Maarten"), ("🇸🇾", "Syria"), ("🇸🇿", "Swaziland"), ("🇹🇦", "Tristan Da Cunha"), ("🇹🇨", "Turks & Caicos Islands"), ("🇹🇩", "Chad"), ("🇹🇫", "French Southern Territories"), ("🇹🇬", "Togo"), ("🇹🇭", "Thailand"), ("🇹🇯", "Tajikistan"), ("🇹🇰", "Tokelau"), ("🇹🇱", "Timor-Leste"), ("🇹🇲", "Turkmenistan"), ("🇹🇳", "Tunisia"), ("🇹🇴", "Tonga"), ("🇹🇷", "Turkey"), ("🇹🇹", "Trinidad & Tobago"), ("🇹🇻", "Tuvalu"), ("🇹🇼", "Taiwan"), ("🇹🇿", "Tanzania"), ("🇺🇦", "Ukraine"), ("🇺🇬", "Uganda"), ("🇺🇲", "United States/U.S. Outlying Islands"), ("🇺🇳", "United Nations"), ("🇺🇾", "Uruguay"), ("🇺🇿", "Uzbekistan"), ("🇻🇦", "Vatican City"), ("🇻🇨", "St. Vincent & Grenadines"), ("🇻🇪", "Venezuela"), ("🇻🇬", "British Virgin Islands"), ("🇻🇮", "U.S. Virgin Islands"), ("🇻🇳", "Vietnam"), ("🇻🇺", "Vanuatu"), ("🇼🇫", "Wallis & Futuna"), ("🇼🇸", "Samoa"), ("🇽🇰", "Kosovo"), ("🇾🇪", "Yemen"), ("🇾🇹", "Mayotte"), ("🇿🇦", "South Africa"), ("🇿🇲", "Zambia"), ("🇿🇼", "Zimbabwe"), ("🏴󠁧󠁢󠁥󠁮󠁧󠁿", "England"), ("🏴󠁧󠁢󠁳󠁣󠁴󠁿", "Scotland"), ("🏴󠁧󠁢󠁷󠁬󠁳󠁿," "Wales")]
print("Flag Emojis up to date as of October 25, 2022")

import discord
from discord import app_commands
import random
import asyncio

intents = discord.Intents.default()
intents.message_content = True
client = discord.Client(intents=intents)
tree = app_commands.CommandTree(client)

def getbuttons(index):
    name4 = random.choice(flagpairs)
    names = [random.choice(flagpairs)[index], random.choice(flagpairs)[index], random.choice(flagpairs)[index], name4[index]] # name4 will be the answer one, we chose this one special because it has both index 1 and 2 saved
    while len(names) != len(set(names)): # Re-roll if there are duplicates
        name4 = random.choice(flagpairs)
        names = [random.choice(flagpairs)[index], random.choice(flagpairs)[index], random.choice(flagpairs)[index], name4[index]]
        print("\n\n\nRerolled because of duplicates")
    if index == 1: # crude statement to check whether we're looking for flags or for flag names
        answer = name4[0]
        match = name4[1]
    else:
        answer = name4[1]
        match = name4[0]
    
    random.shuffle(names) # shuffle it so that it's not always answer 4
    return(names, answer, match)

@client.event
async def on_ready():
    print(f'Bot connected, logged in as {client.user}, ID {client.user.id}')
    await tree.sync(guild=discord.Object(id=887820100743352410))

@tree.command(name = "guessplace", description = "Guess the name of a place from its flag!", guild=discord.Object(id=887820100743352410))

async def words(interaction):
    input = getbuttons(0)
    await interaction.response.send_message(f"Guess the place: {input[2]}")
    channel = interaction.channel
    def check(m):
            return m.content.lower() == input[1].lower() and m.channel == channel
    try:
        msg = await client.wait_for('message', check=check, timeout=10)
    except asyncio.TimeoutError:
        await channel.send(f"Nobody got it... the place was {input[1]}!")
        print(f"Nobody got the word in {msg.guild.name}({msg.guild.id}), word was {input[1]}")
    else:
        await msg.reply(f"{msg.author.mention} got it!")
        print(f"{msg.author}({msg.author.id}) won in {msg.guild.name}({msg.guild.id}), word was {input[1]}")

client.run('PUT YOUR BOT TOKEN HERE')
